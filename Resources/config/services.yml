services:
  _defaults:
    autowire: true
    autoconfigure: true

  BabymarktExt\CronBundle\Command\:
    resource: '../../Command/'
    tags: [ { name: console.command } ]

  BabymarktExt\CronBundle\Service\Factory\CronEntryGeneratorFactory:
    arguments:
      - '%babymarkt_ext_cron.definitions%'
      - '%babymarkt_ext_cron.options.output%'
      - '%kernel.project_dir%'
      - '%kernel.environment%'

  BabymarktExt\CronBundle\Service\CronEntryGenerator:
    factory: [ '@BabymarktExt\CronBundle\Service\Factory\CronEntryGeneratorFactory', create ]
    calls:
      - [ setScript, [ '%babymarkt_ext_cron.options.script%' ] ]

  BabymarktExt\CronBundle\Service\Writer\CrontabWriterInterface:
    class: BabymarktExt\CronBundle\Service\Writer\CrontabWriter
    arguments:
      - '%babymarkt_ext_cron.options.crontab%'

  BabymarktExt\CronBundle\Service\Reader\CrontabReaderInterface:
    class: BabymarktExt\CronBundle\Service\Reader\CrontabReader
    arguments:
      - '%babymarkt_ext_cron.options.crontab%'

  BabymarktExt\CronBundle\Service\CrontabEditor:
    arguments:
      - '%babymarkt_ext_cron.options.id%'

  BabymarktExt\CronBundle\Service\Wrapper\ShellWrapperInterface:
    class: BabymarktExt\CronBundle\Service\Wrapper\ShellWrapper

  BabymarktExt\CronBundle\Service\DefinitionChecker: ~


